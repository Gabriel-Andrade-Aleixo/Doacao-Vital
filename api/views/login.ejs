<!DOCTYPE html>
<html lang="pt-br">

<head>
    <!-- Meta tags ObrigatÃ³rias -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"
        integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">

    <link rel="stylesheet" type="text/css" media="screen" href="/estilos/login.css" />

    <title>
        <%= title %>
    </title>

    <style>
        header {
            border: solid 1px black;
            height: 15vh;
            background-color: rgb(189, 90, 57);
        }

        body {
            background-color: rgb(255, 255, 234);
        }
    </style>
</head>

<body>

    <header>
        <div class="row">
            <div id="setecols" class="form-group col-md-7 col-md-offset-0">
                <figure>
                    <img id="logo" src="./imagens/Gota.png" alt="Logo Projeto do Hemocentro">
                </figure>
            </div>

            <div class="col-md-3 col-md-offset-">
                <nav class="linkAlunos">
                    <ul>
                        <li><a href="/suporte">Suporte</a></li>
                    </ul>
                </nav>
            </div>
        </div>
    </header>

    <div class="blocoLogin">
        <main>
            <center>
                <div class="erro">
                    <div class="alert alert-warning">
                        <%= mensagem %>
                    </div>
                </div>

                <form action="/validar" method="post" class="form-login">
                    <label for="cpf">CPF:</label>
                    <input type="text" id="cpf" class="form-control" name="login" maxlength="14" required
                        oninput="formatCPF(this)" />
                    <label>Senha:</label>
                    <input type="password" class="form-control" name="senha" maxlength="20"/>

                    <br> <br>
                    <input type="submit" value="Login" class="btn btn-primary btn-block
                    btn-danger">
                </form>
                <br>
                <a href="/registro" class="btn btn-warning">Cadastrar-se</a>
            </center>
        </main>
    </div>
    <script>
        function formatCPF(input) {
            let value = input.value.replace(/[^0-9a-zA-Z]/g, '');

            let formattedValue = '';

            if (value.length <= 3) {
                formattedValue = value;
            } else if (value.length <= 6) {
                formattedValue = `${value.slice(0, 3)}.${value.slice(3)}`;
            } else if (value.length <= 9) {
                formattedValue = `${value.slice(0, 3)}.${value.slice(3, 6)}.${value.slice(6)}`;
            } else {
                formattedValue = `${value.slice(0, 3)}.${value.slice(3, 6)}.${value.slice(6, 9)}-${value.slice(9, 11)}`;
            }

            input.value = formattedValue;
        }
    </script>
</body>

</html>